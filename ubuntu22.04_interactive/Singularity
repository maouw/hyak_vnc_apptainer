Bootstrap: docker
From: ubuntu:22.04

%arguments
	CONTAINERDIR=./
%help
	This is an Apptainer container of Ubuntu 22.04 for interactive use.

%labels
	Maintainer altan@uw.edu

%environment
	export DEBIAN_FRONTEND=noninteractive
	export LANG=C.UTF-8
	export LC_ALL=C.UTF-8
	export TZ=America/Los_Angeles

%post
	export DEBIAN_FRONTEND=noninteractive
	export TZ='America/Los_Angeles'
	export LANG=C.UTF-8
	export LC_ALL=C.UTF-8
	export TZ=America/Los_Angeles

	apt-get update -qq

	# Install basic tools:
	apt-get install -y -q \
		make \
		nano \
		vim \
		bash-completion \
		curl \
		wget \
		iproute2 \
		netcat-openbsd \
		less \
		git \
		gawk \
		net-tools \
		procps \
		psmisc \
		locales \
		openssh-client \
		apt-utils

	
	# Install GitHub CLI:
	curl -fsSL https://cli.github.com/packages/githubcli-archive-keyring.gpg | dd of=/usr/share/keyrings/githubcli-archive-keyring.gpg
	chmod go+r /usr/share/keyrings/githubcli-archive-keyring.gpg
	echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main" | tee /etc/apt/sources.list.d/github-cli.list > /dev/null

	apt-get update -qq && apt-get install -y -qq gh
	# Clean up packages:
	apt-get clean -y -qq && rm -rf /var/lib/apt/lists/*

